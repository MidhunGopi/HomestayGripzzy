__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePrepareFromInjectPreloadedQueryPropsParams=function({extractPrepareNiobeOptionsForHlv2TokenMigration:o}){return function({query:t,getQuery:n,getVariables:s,getIsDeferrableQuery:u,getSkip:c,getFetchPolicy:l,getDedupePolicy:p,usePOSTForQuery:P,getContext:y,shouldUsePreviousPrepareProps:f,makeProps:v,maxAge:b,getHeaders:h,getSignal:Q,getEnableAppSessionInstrumentation:S}){return function(k){const{loadQuery:x,previousPrepareProps:F,previousLocation:A,match:I,location:O}=k,_=o(k),T=[{match:I,location:O},..._],j=s?.(...T);if(F&&f){if(f(j,F,A,...T))return F}const q=u?.(...T),D=c?.(...T),H=y?.(...T),M=l?.(...T),C=p?.(...T),E=h?.(...T),L=Q?.(...T),N=S?.(...T),U=x?.({query:n?.({match:I,location:O},..._)??t,...j?{variables:j}:{},...void 0!==D?{skip:D}:{},...void 0!==q?{deferrable:q}:{},...M?{fetchPolicy:M}:{},...C?{dedupePolicy:C}:{},...P?{usePOSTForQuery:P}:{},...H?{context:H}:{},...void 0!==b?{maxAge:b}:{},...E?{headers:E}:{},...Q?{signal:L}:{},...void 0!==N?{enableAppSessionInstrumentation:N}:{}});return v(U,...T)}}}},"1882a3",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGING_URLS=void 0,e.isExperienceHostURL=function(t,s){return!('true'!==s?.exp_host&&'experience_host'!==s?.inbox_type&&!t?.startsWith('/messaging/exp-host'))},e.isHostURL=function(t,s){return!('true'!==s?.host&&'host'!==s?.inbox_type&&!t?.startsWith('/hosting/thread')&&!t?.startsWith('/messaging/hosting'))};var t=r(d[0]);t.InboxType.EXPERIENCE_HOST,t.InboxType.HOST,t.InboxType.GUEST,e.MESSAGING_URLS={[t.InboxType.EXPERIENCE_HOST]:t=>t?`/messaging/exp-host/thread/${t}`:'/hosting/inbox/exp',[t.InboxType.HOST]:t=>t?`/hosting/thread/${t}`:'/hosting/inbox',[t.InboxType.GUEST]:t=>t?`/guest/thread/${t}`:'/inbox'}},"529ec9",["a5723b"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TYPING_TIMEOUT=e.STROKE_WIDTH=e.SEND_STATUS=e.SEND_IMAGE_STANDARD_ACTION=e.QUOTED_MESSAGE_DATA_NAME=e.OPEN_GALLERY_MODAL=e.OPEN_CAROUSEL_PLAYER=e.MORE_COMPOSE_BAR_MENU_PORTAL_ID=e.MORE_COMPOSE_BAR_ACTIONS_BUTTON_ALT=e.MORE_COMPOSE_BAR_ACTIONS_BUTTON=e.MESSAGING_THREAD_CONTAINER_NAME=e.MESSAGE_SHIMMER=e.MESSAGE_INTERVAL_THRESHOLD=e.MESSAGE_CONTENT_DATA_NAME=e.MESSAGE_CONTENT=e.MESSAGE_CONTAINER=e.MESSAGE_BOTTOM_MARGIN=e.MARK_THREAD_READ_DELAY=e.MARGIN_BOTTOM_LAST_ITEM=e.InboxType=e.IMAGE_FILE_TYPES=e.DrawingState=e.DEFAULT_PROFILE_PIC=e.CARD_MAX_WIDTH=e.AVATAR_SIZE=e.AVATAR_DATA_NAME=e.ALL_FILE_TYPES=void 0;e.MESSAGE_BOTTOM_MARGIN=10,e.DEFAULT_PROFILE_PIC='https://a0.muscache.com/defaults/user_pic-225x225.png?v=3',e.MESSAGE_INTERVAL_THRESHOLD=18e5,e.MARK_THREAD_READ_DELAY=1e3,e.MORE_COMPOSE_BAR_ACTIONS_BUTTON='left-panel-icon-button',e.MORE_COMPOSE_BAR_ACTIONS_BUTTON_ALT='left-panel-icon-button-alt',e.MORE_COMPOSE_BAR_MENU_PORTAL_ID='messaging-compose-bar-menu-portal',e.SEND_IMAGE_STANDARD_ACTION='messaging__open_image_upload_dialog';const _=e.IMAGE_FILE_TYPES=['image/jpg','image/jpeg','image/png','image/gif'];e.ALL_FILE_TYPES=[..._,'video/mp4','video/mov','video/quicktime'],e.MESSAGE_CONTENT='--message-content',e.MESSAGE_CONTAINER='--message-container',e.MESSAGE_SHIMMER='--card-shimmer-transition',e.TYPING_TIMEOUT=8e3,e.SEND_STATUS={DRAFT:'draft',FAILED:'failed',NONE:'none',SENDING:'sending',SENT:'sent'};e.InboxType=(function(_){return _.GUEST="guest",_.HOST="host",_.EXPERIENCE_HOST="experience_host",_.AIRWAVE="airwave",_.AGENT_TICKETS="agent_tickets",_.UNKNOWN="unknown",_})({});e.MESSAGING_THREAD_CONTAINER_NAME='message-thread-container',e.CARD_MAX_WIDTH=280,e.MARGIN_BOTTOM_LAST_ITEM=16,e.AVATAR_DATA_NAME='message-avatar',e.MESSAGE_CONTENT_DATA_NAME='message-content-wrapper',e.QUOTED_MESSAGE_DATA_NAME='quoted-message-wrapper',e.AVATAR_SIZE=32;e.DrawingState=(function(_){return _[_.ROOT_VIEWER=0]="ROOT_VIEWER",_[_.ROOT_NON_VIEWER=1]="ROOT_NON_VIEWER",_[_.SUB_ROOT_VIEWER_HAS_NEXT_AND_NEXT_IS_VIEWER=2]="SUB_ROOT_VIEWER_HAS_NEXT_AND_NEXT_IS_VIEWER",_[_.SUB_ROOT_VIEWER_HAS_NEXT_AND_NEXT_IS_NON_VIEWER=3]="SUB_ROOT_VIEWER_HAS_NEXT_AND_NEXT_IS_NON_VIEWER",_[_.SUB_ROOT_NON_VIEWER_HAS_NEXT=4]="SUB_ROOT_NON_VIEWER_HAS_NEXT",_[_.SUB_ROOT_VIEWER_NO_NEXT=5]="SUB_ROOT_VIEWER_NO_NEXT",_[_.SUB_ROOT_NON_VIEWER_NO_NEXT=6]="SUB_ROOT_NON_VIEWER_NO_NEXT",_[_.BETWEEN_VIEWER_NEXT_IS_VIEWER=7]="BETWEEN_VIEWER_NEXT_IS_VIEWER",_[_.BETWEEN_VIEWER_NEXT_IS_NON_VIEWER=8]="BETWEEN_VIEWER_NEXT_IS_NON_VIEWER",_[_.BETWEEN_NON_VIEWER=9]="BETWEEN_NON_VIEWER",_[_.LAST_VIEWER=10]="LAST_VIEWER",_[_.LAST_NON_VIEWER=11]="LAST_NON_VIEWER",_[_.NONE=12]="NONE",_})({});e.STROKE_WIDTH=2,e.OPEN_GALLERY_MODAL='messaging__open_gallery',e.OPEN_CAROUSEL_PLAYER='messaging__open_carousel_player'},"a5723b",[]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}function t(){const n=r(d[1]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"combinePrepares",{enumerable:!0,get:function(){return n().combinePrepares}}),Object.defineProperty(e,"makePrepareFromInjectPreloadedQueryPropsParams",{enumerable:!0,get:function(){return t().makePrepareFromInjectPreloadedQueryPropsParams}})},"a9047b",["f7bc39","1882a3"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:'Header',type:'query',operationId:'d5f93e84f8a155b9d904b7e634aa2ce181dec394af5c75382a713495d8045d2b'}},"b4ed06",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const o=t(r(d[1]));return n=function(){return o},o}Object.defineProperty(e,"__esModule",{value:!0}),e.getHeaderQueryRef=e.default=void 0;var o=r(d[2]);function s(){const t=r(d[3]);return s=function(){return t},t}var c=t(r(d[4]));const u=t=>({headerQueryRef:t});e.getHeaderQueryRef=({source:t="EXPLORE",deferrable:p=!1,skip:l})=>(0,s().makePrepareFromInjectPreloadedQueryPropsParams)({extractPrepareNiobeOptionsForHlv2TokenMigration:({cookie:t,initialPageCDNCached:n,getRenderingState:o,customPrepareNiobeData:s})=>[t,n,o,s]})({query:c.default,getVariables:(n,o,s,c)=>({cdnCacheSafe:s,hasLoggedIn:'1'===o('hli'),isInitialLoad:'server-render'===c()||'client-hydration'===c(),source:t,supportsM13ListingsSetupFlow:!0}),getSkip:({location:t})=>{const s=n().default.parse(t.search);return l||(0,o.isHostURL)(t.pathname,s)||(0,o.isExperienceHostURL)(t.pathname,s)},getIsDeferrableQuery:()=>p,makeProps:u});const p=(0,s().makePrepareFromInjectPreloadedQueryPropsParams)({extractPrepareNiobeOptionsForHlv2TokenMigration:({cookie:t,initialPageCDNCached:n,getRenderingState:o,customPrepareNiobeData:s})=>[t,n,o,s]})({query:c.default,getVariables:({location:t},n,o,s,c)=>{const u=s(),p='server-render'===u||'client-hydration'===u;let l=o;return'client-render'!==u&&'/'===t.pathname&&(l=!0),c.launchPdpUncaching&&'client-render'!==u&&(l=!0),{cdnCacheSafe:l,hasLoggedIn:'1'===n('hli'),isInitialLoad:p,source:'EXPLORE',supportsM13ListingsSetupFlow:!0}},getSkip:({location:t},s,c,u,p)=>{const l=n().default.parse(t.search),h=u();let f=!1;return t.pathname.match(/experiences\/\d+/)&&'client-render'!==h&&(f=!0),t.pathname.match(/book\/(experiences|stays)\/\d+/)&&(f=!0),'/giftcards'===t.pathname&&(f=!0),f||(0,o.isHostURL)(t.pathname,l)||(0,o.isExperienceHostURL)(t.pathname,l)},makeProps:u});e.default=p},"c809a3",["ba7a76","e950a3","529ec9","a9047b","b4ed06"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combinePrepares=function(...n){return t=>n.reduce((n,u)=>({...n,...u(t)}),{})}},"f7bc39",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/guest-header/query/HeaderQuery.prepare.e6a2f0af2d.js.map