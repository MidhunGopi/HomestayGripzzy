__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useCachedGoogleMapObject=function({mapContainerRef:u,mapOptions:s,mapId:p,componentRootRef:h,cacheKey:C,onReady:f}){const[v,b]=(0,t.useState)(void 0),[y,O]=(0,t.useState)(!1),R=(0,t.useRef)(!1),I=(0,n.useGoogleMapsAPI)({}),{cachedInstance:M,updateCache:z}=(0,l.useGoogleMapInstanceCache)(C||''),j=!!C,{zoom:G,center:L,..._}=s,{lat:w,lng:E}=L||{},F=(0,t.useCallback)((t,n)=>{t.parentNode&&t.parentNode.removeChild(t),n.innerHTML='',n.appendChild(t),Object.assign(t.style,{height:'100%',backgroundColor:'#e6e3df'})},[]);return(0,t.useEffect)(()=>{const t=u.current;if(!I||'number'!=typeof G||'number'!=typeof w||'number'!=typeof E||!t||R.current)return;let n;R.current=!0;let l=!1;return j&&M?.instance&&M?.element&&h.current&&(n=M.instance,l=!0,O(!0),F(M.element,h.current),n.moveCamera({zoom:G,center:{lat:w,lng:E}}),n.setOptions({mapId:p,..._}),null!=M.reuseCount&&M.reuseCount++),!n&&t&&(n=new I.Map(t,{zoom:G,center:{lat:w,lng:E},mapId:p,..._}),j&&z(n,t)),n&&(I.event.addListenerOnce(n,'idle',()=>{v||b(n);const t=n.getDiv().getBoundingClientRect(),l=n.getCenter(),u=n.getZoom();if(null==l||null==u)return;const s=(0,o.fromGoogleLatLng)(l),p={height:t.height,width:t.width};f?.({center:s,zoom:u,size:p,bounds:(0,c.calcMapBounds)(s,u,p),isEndOfFlyover:!1,isFlyingOver:!1})}),l&&(I.event.trigger(n,'idle'),I.event.trigger(n,'tilesloaded'))),()=>{j&&M?.element&&t&&M.element.parentNode===t&&t.removeChild(M.element)}},[I,v,G,w,E,p,M,z,_,u,h,F]),{mapsAPI:I,mapObject:v,mapElement:M?.element||void 0,cacheReuseCount:M?.reuseCount,isRestoredFromCache:y}};var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),l=r(d[4])},"038d4b",["07aa1f","2924c5","89b0b4","3e1164","fcc1d9"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyntheticMapContext=void 0;var t=r(d[0]);e.SyntheticMapContext=(0,t.createContext)({viewport:void 0,mapElement:null,markerLayerElement:null,size:void 0})},"12db5c",["07aa1f"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useCachedGaodeMapObject=function({mapContainerRef:u,mapOptions:l,componentRootRef:p,cacheKey:h,onReady:f}){const[C,b]=(0,t.useState)(void 0),[v,y]=(0,t.useState)(!1),O=(0,t.useRef)(!1),M=(0,n.useGaodeMapsAPI)(),{cachedInstance:R,updateCache:z}=(0,c.useGaodeMapInstanceCache)(h||''),j=!!h,{zoom:G,center:I,...S}=l,{lat:_,lng:w}=I||{},E=(0,t.useCallback)((t,n)=>{t.parentNode&&t.parentNode.removeChild(t),n.innerHTML='',n.appendChild(t),Object.assign(t.style,{height:'100%',backgroundColor:'#e6e3df'})},[]);return(0,t.useEffect)(()=>{const t=u.current;if(!M||'number'!=typeof G||'number'!=typeof _||'number'!=typeof w||!t||O.current)return;let n;O.current=!0;let c=!1;if(j&&R?.instance&&R?.element&&p.current&&(n=R.instance,c=!0,y(!0),E(R.element,p.current),n.setZoom(G),n.setCenter([w,_]),n.setStatus({...S}),null!=R.reuseCount&&R.reuseCount++),!n&&t&&(n=new M.Map(t,{zoom:G,center:[w,_],showOversea:!0,...S}),j&&z(n,t)),n){const t=()=>{b(n);const t=n.getSize(),c={width:t?.getWidth(),height:t?.getHeight()},u=n.getZoom(),l=(0,o.fromGaodeLatLng)(n.getCenter());f?.({center:l,zoom:u,size:c,bounds:(0,s.calcMapBounds)(l,u,c),isEndOfFlyover:!1,isFlyingOver:!1})};c?(n.emit('complete'),t()):n.on('complete',t,void 0,!0)}return()=>{j&&R?.element&&t&&R.element.parentNode===t&&t.removeChild(R.element)}},[M,G,_,w,R,z,S,u,p,E]),{mapsAPI:M,mapObject:C,mapElement:R?.element||void 0,isRestoredFromCache:v,cacheReuseCount:R?.reuseCount}};var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4])},"300f17",["07aa1f","314a43","4465a5","3e1164","521881"]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]).default;Object.defineProperty(_e,"__esModule",{value:!0}),_e.useZoomEnd=_e.useZoomAndCenter=_e.useZoom=_e.useSetBounds=_e.useScrollCapture=_e.useResize=_e.usePanBy=_e.useMoveEnd=_e.useMarkerZIndex=_e.useMarkerPosition=_e.useMarkerOffset=_e.useMapTilesLoadedOnce=_e.useMapDoubleClick=_e.useMapComplete=_e.useMapClick=_e.useGaodeMarker=_e.useGaodeMapsAPI=_e.useGaodeMap=_e.useDragging=_e.useDragStartDeprecated=_e.useDragStart=_e.useDragEnd=void 0;var t=r(d[1]),s=e(r(d[2])),n=r(d[3]),o=r(d[4]),u=e(r(d[5])),c=r(d[6]);_e.useGaodeMapsAPI=()=>{const[e,s]=(0,t.useState)(void 0);return(0,t.useEffect)(()=>{(0,u.default)().then(s)},[]),e};_e.useGaodeMap=(e,s,{zoom:n,center:u,dragEnable:c,resizeEnable:l,disablePOI:f,zoomEnable:E,scrollWheel:p,doubleClickZoom:b})=>{const[M,k]=(0,t.useState)(void 0);return(0,t.useEffect)(()=>{let t;e&&s.current&&!M&&(0,o.isFiniteNumber)(u?.lng)&&(0,o.isFiniteNumber)(u?.lat)&&(0,o.isFiniteNumber)(n)&&(t=new e.Map(s.current,{zoom:n,showOversea:!0,center:[u?.lng,u?.lat],dragEnable:c,resizeEnable:l,zoomEnable:E,scrollWheel:p,doubleClickZoom:b}),k(t))},[s,e,u,n,f,c,M,l,E,p,b]),(0,t.useEffect)(()=>()=>{M&&M.destroy()},[M]),M};_e.useZoom=(e,s)=>{(0,t.useEffect)(()=>{e&&s&&Number.isFinite(s)&&s>=3&&s<=19&&e.setZoom(s)},[e,s])};_e.useZoomAndCenter=(e,s,n)=>{const{lat:u,lng:c}=n??{};(0,t.useEffect)(()=>{e&&(0,o.isFiniteNumber)(s)&&(0,o.isFiniteNumber)(u)&&(0,o.isFiniteNumber)(c)&&s>=3&&s<=19&&e.setZoomAndCenter(s,[c,u])},[e,s,u,c])};_e.usePanBy=(e,s)=>{const[n,o]=s?[s.x,s.y]:[NaN,NaN];(0,t.useEffect)(()=>{e&&Number.isFinite(n)&&Number.isFinite(o)&&e.panBy(n,o)},[e,n,o])};const l=(e,s,o)=>{(0,t.useEffect)(()=>{const t=()=>{if(e&&o){const t=e.getSize(),s={width:t?.getWidth(),height:t?.getHeight()},u=e.getZoom(),l=(0,c.fromGaodeLatLng)(e.getCenter());o({zoom:u,center:l,size:s,bounds:(0,n.calcMapBounds)(l,u,s)})}};return e&&o&&e.on(s,t),()=>{e&&e.off(s,t)}},[e,s,o])};_e.useMoveEnd=(e,t)=>{l(e,'moveend',t)};_e.useZoomEnd=(e,t)=>{l(e,'zoomend',t)};const f=(e,s,n)=>{(0,t.useEffect)(()=>{const t=()=>{if(e&&n){const t=e.getZoom(),s=(0,c.fromGaodeLatLng)(e.getCenter());n(s,t)}};return e&&n&&e.on(s,t),()=>{e&&e.off(s,t)}},[e,s,n])};_e.useDragStartDeprecated=(e,t)=>{l(e,'dragstart',t)};_e.useDragStart=(e,t)=>{f(e,'dragstart',t)};_e.useDragging=(e,t)=>{f(e,'dragging',t)};_e.useDragEnd=(e,t)=>{f(e,'dragend',t)};_e.useMapComplete=(e,t)=>{l(e,'complete',t)};_e.useMapTilesLoadedOnce=(e,n,o)=>{const u=(0,s.default)(o);(0,t.useEffect)(()=>{if(e){const t=()=>{u.current?.()};if(!n)return e.on('complete',t,void 0,!0),()=>{e.off('complete',t)};u.current?.()}},[e,n,u])};_e.useResize=(e,t)=>{l(e,'resize',t)};_e.useMapClick=(e,s)=>{(0,t.useEffect)(()=>{const t=e=>{const t=e.lnglat;s&&s({latLng:{lat:t.getLat(),lng:t.getLng()}})};return e&&e.on('click',t),()=>{e&&e.off('click',t)}},[e,s])};_e.useMapDoubleClick=(e,s)=>{(0,t.useEffect)(()=>{const t=e=>{const t=e.lnglat;s&&s({latLng:{lat:t.getLat(),lng:t.getLng()}})};return e&&e.on('dblclick',t),()=>{e&&e.off('dblclick',t)}},[e,s])};_e.useScrollCapture=(e,s)=>{(0,t.useEffect)(()=>{if(s&&e){const t=e.getContainer();t&&t.addEventListener('wheel',s,!0)}return()=>{if(s&&e){const t=e.getContainer();t&&t.removeEventListener('wheel',s,!0)}}},[e,s])};_e.useSetBounds=(e,s,o)=>{(0,t.useEffect)(()=>{if(e&&s&&o){const t=(0,c.fromGaodeBounds)(s.getBounds());(0,n.boundsEqual)(o,t)||s.setBounds((0,c.toGaodeBounds)(o,e))}},[o,s,e])};_e.useGaodeMarker=({mapsAPI:e,map:s,position:n,zIndex:u,anchor:c,offset:l})=>{const[f,E]=(0,t.useState)({marker:void 0,div:void 0}),{lat:p,lng:b}=n||{},{x:M,y:k}=l||{};return(0,t.useEffect)(()=>{let t;if(!f.marker&&e&&s&&(0,o.isFiniteNumber)(p)&&(0,o.isFiniteNumber)(b)&&(0,o.isFiniteNumber)(u)){const n=document.createElement('div');n.setAttribute('class','gaode-marker-wrapper'),t=new e.Marker({content:n,offset:new e.Pixel(M,k),position:[b,p],zIndex:u,anchor:c}),t.setMap(s),E({marker:t,div:t.getContent()})}},[s,e,p,b,u,c,M,k,f]),(0,t.useEffect)(()=>()=>{f?.marker&&f.marker.setMap(null)},[f]),f};_e.useMarkerPosition=(e,s)=>{const{lat:n,lng:o}=s;(0,t.useEffect)(()=>{e&&n&&o&&e.setPosition([o,n])},[n,o,e])};_e.useMarkerZIndex=(e,s)=>{(0,t.useEffect)(()=>{e&&Number.isFinite(s)&&e.setzIndex(s)},[e,s])};_e.useMarkerOffset=(e,s,n)=>{const{x:u,y:c}=n||{};(0,t.useEffect)(()=>{s&&e&&(0,o.isFiniteNumber)(u)&&(0,o.isFiniteNumber)(c)&&s.setOffset(new e.Pixel(u,c))},[s,e,u,c])}},"314a43",["ba7a76","07aa1f","d18042","3e1164","fae139","56fe3a","4465a5"]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]).default;Object.defineProperty(_e,"__esModule",{value:!0}),_e.GoogleMap=function({viewport:e,minZoom:y,maxZoom:w,readOnly:b,clickableIcons:v=!1,onScrollCapture:I,onViewportChange:f,onMapClick:M,onMapDoubleClick:k,onDragStart:S,onIdle:V,onKeyDown:R,onKeyUp:L,onStreetViewVisibilityChanged:T,onMapInstanceReady:z,scrollwheel:x,draggable:O,mapStyle:P="CloudStylingBaseStyle",mapIdOverride:j,fractionalZoom:D=!1,gestureHandling:_,showTransitLayer:A=!1,streetViewControl:E=!1,mapTypeId:G,vector:K=!1,cacheKey:Z,children:H,loggingId:U}){const B=(0,o.useRef)(null),F='Unstyled'!==P?j||(0,p.default)(P,{showTransitLayer:A,enableVectorMap:K}):void 0,N=(0,o.useRef)(null),q=(0,o.useCallback)(e=>{const o={viewport:{center:e.center,zoom:e.zoom},bounds:e.bounds,isReady:!0,size:e.size,isViewportAnimating:!!e.isFlyingOver};V&&V(o)},[V]),{mapObject:J,mapsAPI:Q,isRestoredFromCache:W,cacheReuseCount:X}=(0,h.useCachedGoogleMapObject)({mapContainerRef:B,componentRootRef:N,mapOptions:{clickableIcons:v,zoom:e?.zoom,center:e?.center,minZoom:y,maxZoom:w,gestureHandling:b?'none':_,isFractionalZoomEnabled:D,disableDefaultUI:!0,restriction:{latLngBounds:{north:85,south:-85,west:-180,east:180},strictBounds:!0},scaleControl:!0,scrollwheel:x,streetViewControl:E,streetViewControlOptions:{position:c.ControlPosition.RIGHT_CENTER},draggable:O,mapTypeId:G||'roadmap'},mapId:F,cacheKey:Z,onReady:q}),{registerContainerElementAndStartCounter:Y,onTilesLoaded:$}=(0,s.useTrackMapPerformanceMetrics)({loggingId:U,provider:'google',instanceCacheable:!!Z,isCached:W,cacheReuseCount:X,isStatic:!1,isVector:K,styleId:F,version:Q?.version}),{width:ee,height:oe,ref:te}=(0,u.useElementSize)(),ae=(0,o.useCallback)(e=>{N.current=e,Y(e),te(e)},[N,Y,te]),ne=(0,o.useMemo)(()=>({map:J,mapsAPI:Q}),[J,Q]);(0,o.useEffect)(()=>{J&&Q&&z&&z({map:J,mapsAPI:Q})},[J,Q,z]);const ie=(0,o.useCallback)(e=>{M?.({latLng:e.latLng,googlePlaceId:e.placeId})},[M]),le=(0,o.useCallback)(e=>{e.latLng&&k&&k({latLng:e.latLng})},[k]);(0,n.useMapClick)(J,ie),(0,n.useMapDoubleClick)(J,le),(0,n.useDragStart)(J,S),(0,n.useKeyDownCapture)(J,Q,R),(0,n.useKeyUpCapture)(J,Q,L),(0,n.useScrollCapture)(J,I),(0,n.useTransitLayer)(J,Q,A),(0,n.useStreetViewOptions)(J),(0,n.useStreetViewVisibilityChanged)(J,T),(0,n.useMapTilesLoadedOnce)(J,Q,W,$),(0,n.useMapTypeId)(J,G),(0,n.useViewport)(J,Q,e),(0,n.useMapIdle)(J,q);const se=(0,o.useCallback)(e=>{f&&J&&f({center:e.center,zoom:e.zoom})},[J,f]);return(0,n.useMapIdle)(J,se),(0,C.jsxs)("div",{style:{width:'100%',height:'100%',position:'relative'},"data-testid":"map/GoogleMap","aria-label":"Google Map",role:"application",ref:ae,children:[(0,C.jsx)("div",{ref:B,style:{width:'100%',height:'100%'}}),(0,C.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n            gmp-advanced-marker:focus .GoogleAdvancedMarker-container {\n              outline-color: black;\n              outline-style: auto;\n              outline-width: 5px;\n              outline-offset: 5px;\n\n            }\n            "}}),J&&Q?(0,C.jsx)(t.default.Provider,{value:ne,children:(0,C.jsx)(l.ViewportSizeContextProvider,{viewport:e,size:{width:ee||void 0,height:oe||void 0},children:H})}):null]})};var o=r(d[1]),t=e(r(d[2])),n=r(d[3]),l=r(d[4]),s=r(d[5]),c=r(d[6]),u=r(d[7]),p=e(r(d[8])),h=r(d[9]),C=r(d[10])},"333dce",["ba7a76","07aa1f","1f1f8a","2924c5","40a5ba","380591","cc8984","c376e0","152b00","038d4b","b8c07d"]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return{lat:t.getLat(),lng:t.getLng()}}Object.defineProperty(e,"__esModule",{value:!0}),e.fromGaodeBounds=function(n){return{sw:t(n.getSouthWest()),ne:t(n.getNorthEast())}},e.fromGaodeLatLng=t,e.toGaodeAnchor=function({vAlign:t,hAlign:n}){return{top:{left:'top-left',right:'top-right',center:'top-center'},middle:{left:'middle-left',right:'middle-right',center:'center'},bottom:{left:'bottom-left',right:'bottom-right',center:'bottom-center'}}[t][n]},e.toGaodeBounds=function(t,n){return new n.Bounds([t.sw.lng,t.sw.lat],[t.ne.lng,t.ne.lat])}},"4465a5",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useLatLngBoundsStableConversion=function(u){const{sw:s,ne:o}=u||{},{lat:l,lng:b}=s||{},{lat:c,lng:f}=o||{};return(0,n.useMemo)(()=>{if((0,t.isFiniteNumber)(l)&&(0,t.isFiniteNumber)(b)&&(0,t.isFiniteNumber)(c)&&(0,t.isFiniteNumber)(f))return{sw:{lat:l,lng:b},ne:{lat:c,lng:f}}},[l,b,c,f])},e.useLatLngStableConversion=u,e.useStableRectSize=function(u){const{width:s,height:o}=u||{};return(0,n.useMemo)(()=>{if((0,t.isFiniteNumber)(s)&&(0,t.isFiniteNumber)(o))return{width:s,height:o}},[s,o])},e.useStableViewportConversion=function(s){const{center:o,zoom:l,smoothing:b}=s||{},c=u(o);return(0,n.useMemo)(()=>{if(c&&(0,t.isFiniteNumber)(l))return{center:c,zoom:l,smoothing:b}},[c,l,b])};var n=r(d[0]),t=r(d[1]);function u(u){const{lat:s,lng:o}=u||{};return(0,n.useMemo)(()=>{if((0,t.isFiniteNumber)(s)&&(0,t.isFiniteNumber)(o))return{lat:s,lng:o}},[s,o])}},"4e5161",["07aa1f","fae139"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useGaodeMapInstanceCache=function(t){const s=(0,c.useRef)(t);s.current=t;const u=(0,c.useCallback)((c,t)=>{const u=s.current;null!=n[u]?(n[u].instance=c,n[u].element=t,n[u].reuseCount++):n[u]={instance:c,element:t,reuseCount:0}},[]),l=(0,c.useCallback)(c=>{delete n[c]},[]),o=(0,c.useCallback)(()=>{Object.keys(n).forEach(c=>{delete n[c]})},[]);return{cachedInstance:n[t],updateCache:u,clearCache:l,nukeAllMapCaches:o}};var c=r(d[0]);const n={}},"521881",["07aa1f"]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(window.AMap)return Promise.resolve(window.AMap);const o=u;return new Promise(u=>{void 0===window[o]?(window[o]=()=>{u(window.AMap),n.default.emit(l),delete window[o]},(0,t.default)(`${w.GAODE_MAP_JS_URL}&callback=${o}`)):n.default.once(l,()=>{u(window.AMap)})})};var n=o(r(d[1])),t=o(r(d[2])),w=r(d[3]);const l='gaodemap.load',u='__gaodeMapAPILoaded_using_map_platform'},"56fe3a",["ba7a76","abc3e4","6b26d0","8f8307"]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return u.Flagger.getAirParamField((0,l.default)('map_gaode/enabled'))?'gaode':'google'};var l=t(r(d[1])),u=r(d[2])},"78e1cd",["ba7a76","84ad93","dcc72a"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GAODE_MAP_JS_URL=void 0;e.GAODE_MAP_JS_URL="https://webapi.amap.com/maps?v=2.0&key=d2606fa287ca45eeaabf5658aa5ced38"},"8f8307",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n=r(d[2]),s=r(d[3]);e.default=function({mapController:o,additionalTopControls:l,showPanControls:c=!0,showZoomControls:u=!0,showSettingsControl:v=!1,onSettingsClick:C,onZoomClick:p,onPanClick:f,position:h,top:w,bottom:z,right:Z,size:b,visible:k,showDivider:D}){const{viewport:P,constraints:S}=o.state,I=P?.zoom,_=void 0!==I&&void 0!==S?.maxZoom&&I<S.maxZoom,x=void 0!==I&&void 0!==S?.minZoom&&I>S.minZoom,O=(0,n.useEvent)(t=>{const{viewport:n}=o.state;if(!n)return;if('zoomIn'===t&&!_)return;if('zoomOut'===t&&!x)return;const s=n.zoom,l='zoomIn'===t?s+1:s-1;o.zoomTo(l,{reason:'user-interaction'}),p?.(t,l)}),T=(0,n.useEvent)(t=>{o.panInDirection(t,.25,{reason:'user-interaction'}),f?.(t)});return(0,s.jsx)(t.default,{additionalTopControls:l,showPanControls:c,showZoomControls:u,showSettingsControl:v,onZoomClick:O,onPanClick:T,onSettingsClick:C,position:h,top:w,bottom:z,right:Z,size:b,visible:k,zoomInDisabled:!_,zoomOutDisabled:!x,circleStyleContainer:!0,showDivider:D})}},"a18045",["ba7a76","5ca840","f4e9c4","b8c07d"]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.useMapController=function(t={}){const v=(0,l.default)().map_foundation_override_map_provider,{initialViewport:b,initialBounds:h,readOnly:w=!1,googleFractionalZoom:y=!1,constraints:E={minZoom:0,maxZoom:22},a11y:C={announceViewportChanges:!1,keyboardNavigation:!0},loggingContext:z={},_ignoreTestEnvironment:M=!1}=t,k=v||(M||'true'!==process.env?.HAPPO&&!process.env.JEST_WORKER_ID?(0,o.default)():'synthetic'),[R,T]=(0,n.useState)(b),S=(0,f.useStableViewportConversion)(R),[P,O]=(0,n.useState)(h),L=(0,f.useLatLngBoundsStableConversion)(P),[_,x]=(0,n.useState)(),D=(0,f.useStableRectSize)(_),[I,Z]=(0,n.useState)(!1),[V]=(0,n.useState)(()=>!b),[j,H]=(0,n.useState)(()=>!!b),[B,K]=(0,n.useState)(!1),U=(0,n.useRef)(void 0),A=(0,n.useRef)(!1),F=(0,n.useRef)(null),G=(0,n.useRef)({}),N=(0,n.useRef)({}),W=(0,n.useRef)({}),J=(0,n.useRef)({}),q=(0,n.useRef)({}),Q=(0,n.useRef)({}),X=(0,n.useRef)({}),Y=(0,n.useRef)(null),$=(0,p.useEvent)((t,n)=>(G.current[t]=n,()=>{delete G.current[t]})),ee=(0,p.useEvent)((t,n)=>(N.current[t]=n,()=>{delete N.current[t]})),te=(0,p.useEvent)((t,n)=>(W.current[t]=n,()=>{delete W.current[t]})),ne=(0,p.useEvent)((t,n)=>(Q.current[t]=n,()=>{delete Q.current[t]})),re=(0,p.useEvent)((t,n)=>(J.current[t]=n,()=>{delete J.current[t]})),ae=(0,p.useEvent)((t,n)=>(q.current[t]=n,()=>{delete q.current[t]})),oe=(0,p.useEvent)((t,n)=>(X.current[t]=n,I&&S&&L&&D&&n({viewport:S,bounds:L,size:D,isReady:I,isViewportAnimating:B}),()=>{delete X.current[t]})),se=(0,p.useEvent)((t,n,o)=>{Object.values(G.current).forEach(s=>{s(t,n,o)})}),ue=(0,p.useEvent)(t=>{Object.values(N.current).forEach(n=>{n(t)})}),ce=(0,p.useEvent)(t=>{Object.values(W.current).forEach(n=>{n(t)})}),ie=(0,p.useEvent)(t=>{Y.current=t}),le=(0,n.useMemo)(()=>({getGoogleMapInstance:()=>Y.current,getGaodeMapInstance:()=>Y.current,getCurrentMapInstance:()=>Y.current}),[]),de=(0,p.useEvent)(({viewport:t,bounds:n,size:o})=>{const s={viewport:t,bounds:n,size:o,isReady:I,isViewportAnimating:B,constraints:E};Object.values(X.current).forEach(t=>{t(s)})}),me=(0,p.useEvent)(t=>{F.current='user-interaction',ue(t)}),ge=(0,p.useEvent)(t=>{F.current='user-interaction',ce(t)}),pe=(0,p.useEvent)(()=>{A.current&&(U.current=void 0,A.current=!1)}),fe=(0,n.useCallback)((t,n)=>{F.current=n||'programmatic',T(t),V&&!j&&H(!0)},[V,j]),ve=(0,n.useCallback)(async(t,n={})=>new Promise(o=>{S?(F.current=n.reason??'programmatic',fe({...S,center:t,smoothing:'smooth'},n.reason||'programmatic'),setTimeout(o,300)):o()}),[S,fe]),be=(0,n.useCallback)(async(t,n=.5,o={})=>new Promise(s=>{if(!S||!L)return void s();const{sw:u,ne:c}=L,{center:l}=S,p={lat:c.lat,lng:l.lng},f={lat:l.lat,lng:c.lng},v={north:p,south:{lat:u.lat,lng:l.lng},east:f,west:{lat:l.lat,lng:u.lng}}[t],b={lat:l.lat+(v.lat-l.lat)*n,lng:l.lng+(v.lng-l.lng)*n};ve(b,o).then(s)}),[S,L,ve]),he=(0,n.useCallback)(async(t,n={})=>new Promise(o=>{S?(F.current=n.reason??'programmatic',fe({...S,zoom:t,smoothing:'smooth'},n.reason||'programmatic'),setTimeout(o,300)):o()}),[S,fe]),we=(0,n.useCallback)(async(t,n={})=>new Promise(o=>{const s=n.reason??'programmatic';F.current=s,fe({...t,smoothing:'flyTo'},F.current),setTimeout(o,700)}),[fe]),ye=(0,n.useCallback)(async(t,n={})=>new Promise(o=>{const s={lat:(t.ne.lat+t.sw.lat)/2,lng:(t.ne.lng+t.sw.lng)/2},u=Math.abs(t.ne.lat-t.sw.lat),c=Math.abs(t.ne.lng-t.sw.lng),l=Math.max(u,c),p={center:s,zoom:Math.min(Math.floor(14-Math.log2(111*l)),n.maxZoom||20)};F.current=n.reason??'programmatic',fe(p,F.current),setTimeout(o,700)}),[fe]),Ee=(0,n.useCallback)(({target:t,targetPaddings:n,mapPaddings:o,byUser:u})=>{T(c=>{if(c&&D){const l=(0,s.default)({viewport:c,mapSize:D,mapPaddings:o,targetPaddings:n,target:t});return l?(u&&(u.current=!1),F.current='programmatic',{center:l,zoom:c.zoom}):c}return c})},[D]),Ce=(0,p.useEvent)((t,n)=>{if(!S||!L||!D)return;const o=L;if(!(0,c.default)({test:t,size:D,center:S?.center,zoom:S?.zoom,paddings:n})){const n=(0,u.extendBounds)(o,t);ye(n,{reason:'programmatic'})}}),ze=(0,n.useCallback)(t=>{const{latLng:n,cardTopToMapTop:o,mapHeight:s,marginBetweenCard:c=0}=t,{zoom:l,center:p}=S||{};if(s&&o&&n&&l&&p){const t=s/2,f=(0,u.fromLatLngToCenterPixel)(n,l,p).y-(o-t)+c;if(f>0){U.current||(U.current=p.lat);const t={x:0,y:f},n=(0,u.fromCenterPixelToLatLng)(t,l,p);A.current=!0,F.current='programmatic',fe({center:n,zoom:l},F.current)}}},[S,fe]),Me=(0,n.useCallback)(()=>{if(U.current&&S){const t={lat:U.current,lng:S.center.lng};F.current='programmatic',fe({center:t,zoom:S.zoom},F.current)}U.current=void 0,A.current=!1},[S,fe]),ke=(0,n.useCallback)(t=>{let n=!1;return Object.values(J.current).forEach(o=>{!0===o(t)&&(n=!0)}),Object.values(Q.current).forEach(o=>{!0===o(t)&&(n=!0)}),n},[]),Re=(0,n.useCallback)(t=>{let n=!1;return Object.values(q.current).forEach(o=>{!0===o(t)&&(n=!0)}),n},[]),Te=(0,n.useMemo)(()=>({state:{viewport:S,bounds:L,size:D,isReady:I,isViewportAnimating:B,constraints:E},provider:k,addMapIdleHandler:$,addMapClickHandler:ee,addMapDoubleClickHandler:te,addKeyDownHandler:re,addKeyUpHandler:ae,addKeyboardHandler:ne,addMapLoadedHandler:oe,setViewport:fe,panTo:ve,panInDirection:be,panMinimallyToContainLatLng:Ee,fitBoundsWithLatLngIfOutsideMap:Ce,zoomTo:he,flyTo:we,fitBounds:ye,shiftViewportIfNecessary:ze,invalidateViewportShift:pe,unshiftViewport:Me}),[k,S,L,D,I,B,$,ee,te,re,ae,ne,oe,fe,ve,be,he,we,ye,ze,Ee,pe,Me,Ce,E]),Se=(0,n.useRef)(null),Pe=(0,n.useCallback)(t=>{const n=Se.current;t.bounds&&O(t.bounds),x(t.size),T(t.viewport),Z(!0),n||de({viewport:t.viewport,bounds:t.bounds,size:t.size});n?.size&&t.size&&(n.size.width!==t.size.width||n.size.height!==t.size.height)?se(t,'resize',n):se(t,F.current||'unknown'),F.current=null,Se.current=t},[de,se]),Oe=(0,n.useCallback)(()=>{F.current='user-interaction'},[]),Le=(0,n.useCallback)(()=>{F.current='user-interaction'},[]),_e=(0,n.useMemo)(()=>({providerPleaseDontUseDirectly:k,viewport:j?S:void 0,readOnly:w,googleFractionalZoom:y,minZoom:E.minZoom,maxZoom:E.maxZoom,_ignoreTestEnvironment:M,onIdle:Pe,onMapClick:me,onMapDoubleClick:ge,onScrollCapture:Oe,onDragStart:Le,onKeyDown:ke,onKeyUp:Re,onMapInstanceReady:ie}),[k,S,j,w,y,E.minZoom,E.maxZoom,M,me,ge,Pe,Oe,Le,ke,Re,ie]),xe=(0,n.useRef)(Te).current;return(0,n.useEffect)(()=>()=>{[G,N,W,J,q,Q,X].forEach(t=>{Object.keys(t.current).forEach(n=>{delete t.current[n]})})},[]),(0,n.useMemo)(()=>({...Te,ref:xe,props:_e,privateDontUseDirectly:{mapInstances:le,reasonRef:F}}),[Te,xe,_e,le])};var n=r(d[1]),o=t(r(d[2])),s=t(r(d[3])),u=r(d[4]),c=t(r(d[5])),l=t(r(d[6])),p=r(d[7]),f=r(d[8])},"af0ff7",["ba7a76","07aa1f","78e1cd","1e0a9c","3e1164","106369","a7c4ef","f4e9c4","4e5161"]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]).default;Object.defineProperty(_e,"__esModule",{value:!0}),_e.SyntheticMap=function({viewport:e,minZoom:p=1,maxZoom:w=20,readOnly:b=!1,onScrollCapture:v,onViewportChange:x,onMapClick:z,onMapDoubleClick:y,onDragStart:C,onIdle:k,onKeyDown:M,onKeyUp:S,mapStyle:L,gridSize:A=50,gridColor:D="#e0e0e0",backgroundColor:R="#f8f8f8",children:j,jestOnlyWidth:E,jestOnlyHeight:P}){const[Y,F]=(0,t.useState)(null),[O,_]=(0,t.useState)(null),[K,T]=(0,t.useState)(!1),[V,X]=(0,t.useState)(e),U=(0,c.useElementSize)();let B=U.width,I=U.height;process.env.JEST_WORKER_ID&&(B=B||E||800,I=I||P||600);const W=U.ref,[Z,q]=(0,t.useState)(null);(0,t.useEffect)(()=>{Y&&null!=B&&null!=I&&(B>0||I>0)&&q(Y.getBoundingClientRect())},[Y,B,I]);const H=(0,s.useLatLngStableConversion)(V?.center),J=V?.zoom,G=(0,t.useRef)({x:0,y:0}),N=(0,t.useRef)(null),Q=(0,t.useRef)(null);(0,t.useEffect)(()=>{e&&X(e)},[e]),(0,u.useValuesOnChange)({width:B,height:I},(e,t)=>{const{width:n,height:o}=e;if(!n||!o||!k)return;if(t){const e=t.width!==n,l=t.height!==o;if(t.width&&t.height&&!e&&!l)return}const c=H,u=J;if(!Y||!B||!I||null==c||null==u)return;const s=(0,l.calcMapBounds)(c,u,{width:B,height:I});k({viewport:{center:c,zoom:u},bounds:s,size:{width:B,height:I},isReady:!0,isViewportAnimating:!1})});const $=(0,t.useCallback)((e,t)=>{if(!Z||!V)return{lat:0,lng:0};const n=e-Z.width/2,o=t-Z.height/2;return(0,l.fromCenterPixelToLatLng)({x:n,y:o},V.zoom,V.center)},[V,Z]),ee=(0,t.useCallback)(()=>{if(!(k&&Y&&V&&B&&I))return;const{center:e,zoom:t}=V,n=(0,l.calcMapBounds)(e,t,{width:B,height:I});k({viewport:{center:e,zoom:t},bounds:n,size:{width:B,height:I},isReady:!0,isViewportAnimating:!1})},[V,k,B,I,Y]),te=(0,t.useCallback)(e=>{b||(T(!0),G.current={x:e.clientX,y:e.clientY},C&&C())},[b,C]),ne=(0,t.useCallback)(e=>{if(!K||b||!V||!Z)return;const t=e.clientX-G.current.x,n=e.clientY-G.current.y;G.current={x:e.clientX,y:e.clientY};const o=(0,l.fromCenterPixelToLatLng)({x:-t,y:-n},V.zoom,{lat:0,lng:0}),c={lat:V.center.lat+o.lat,lng:V.center.lng+o.lng},u={...V,center:c};Q.current=u,null===N.current&&(N.current=requestAnimationFrame(()=>{Q.current&&(X(Q.current),x&&x(Q.current),Q.current=null),N.current=null}))},[K,b,V,x,Z]),re=(0,t.useCallback)(()=>{K&&(T(!1),null!==N.current&&(cancelAnimationFrame(N.current),N.current=null),Q.current&&(X(Q.current),x&&x(Q.current),Q.current=null),ee())},[K,ee,x]),oe=(0,t.useCallback)(e=>{if(!Z||!z)return;const t=e.clientX-Z.left,n=e.clientY-Z.top,o=$(t,n);z({latLng:o})},[z,$,Z]),ie=(0,t.useCallback)(e=>{if(!Z||!V)return;const t=e.clientX-Z.left,n=e.clientY-Z.top,o=$(t,n);if(y&&y({latLng:o}),!b){const e={center:o,zoom:Math.min(V.zoom+1,w)};X(e),x&&x(e),ee()}},[V,w,y,x,b,$,ee,Z]),le=(0,t.useCallback)(e=>{if(b||!V||!Z)return;if(v&&v(),V.zoom>=w&&e.deltaY<0||V.zoom<=p&&e.deltaY>0)return e.preventDefault(),!1;const t=.05*-Math.sign(e.deltaY),n=Math.max(p,Math.min(V.zoom+t,w)),o={center:V.center,zoom:n};return X(o),x&&x(o),ee(),!1},[V,w,p,v,x,b,ee,Z]),ae=(0,t.useCallback)(e=>{if(b||!V)return;if(M&&M(e))return void e.preventDefault();const t=.05*2**(14-V.zoom),n={...V.center};switch(e.key){case'ArrowUp':n.lat+=t;break;case'ArrowDown':n.lat-=t;break;case'ArrowLeft':n.lng-=t;break;case'ArrowRight':n.lng+=t;break;case'+':{const e=Math.min(V.zoom+.5,w),t={...V,zoom:e};return X(t),x&&x(t),void ee()}case'-':{const e=Math.max(V.zoom-.5,p),t={...V,zoom:e};return X(t),x&&x(t),void ee()}default:return}const o={...V,center:n};X(o),x&&x(o),ee()},[V,w,p,M,x,b,ee]),ce=(0,t.useCallback)(e=>{S&&S(e)},[S]),ue=(0,t.useMemo)(()=>({viewport:V,size:B&&I?{width:B,height:I}:void 0,mapElement:Y,markerLayerElement:O}),[V,B,I,Y,O]);return(0,t.useEffect)(()=>{const e=setTimeout(()=>{ee()},0);return()=>{clearTimeout(e),null!==N.current&&(cancelAnimationFrame(N.current),N.current=null)}},[ee]),(0,f.jsxs)("div",{ref:e=>{F(e),W(e)},style:{width:'100%',height:'100%',position:'relative',overflow:'hidden',touchAction:b?'auto':'none',cursor:K?'grabbing':'grab',outline:'none'},"data-testid":"synthetic-map","aria-label":"Map",role:"application",onPointerDown:te,onPointerMove:ne,onPointerUp:re,onPointerLeave:re,onClick:oe,onDoubleClick:ie,onWheel:le,onKeyDown:ae,onKeyUp:ce,children:[(0,f.jsx)(n.default,{}),(0,f.jsx)("div",{ref:_,style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',pointerEvents:'none'}}),V&&(0,f.jsxs)("div",{style:{position:'absolute',top:10,left:10,background:'rgba(255, 255, 255, 0.7)',padding:'2px 5px',borderRadius:'3px',fontSize:'14px',color:'#333',zIndex:1},children:["Lat: ",V.center.lat.toFixed(4),' Lng: ',V.center.lng.toFixed(4),' Zoom: ',V.zoom.toFixed(1)]}),(0,f.jsx)(h.SyntheticMapContext.Provider,{value:ue,children:(0,f.jsx)(o.ViewportSizeContextProvider,{viewport:V,size:{width:B||void 0,height:I||void 0},children:j})})]})};var t=r(d[1]),n=e(r(d[2])),o=r(d[3]),l=r(d[4]),c=r(d[5]),u=r(d[6]),s=r(d[7]),h=r(d[8]),f=r(d[9])},"b13724",["ba7a76","07aa1f","345760","40a5ba","3e1164","c376e0","47f664","4e5161","12db5c","b8c07d"]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.UniversalMap=y,e.useUniversalMapContext=e.default=e.UniversalMapContext=void 0;var n=r(d[1]),t=r(d[2]),l=o(r(d[3])),s=o(r(d[4])),c=r(d[5]),p=r(d[6]),u=r(d[7]),v=r(d[8]);const h=e.UniversalMapContext=(0,n.createContext)({provider:void 0,viewport:void 0});function y({googleMapStyle:o,viewport:y,onViewportChange:M,onMapClick:C,onMapDoubleClick:w,onIdle:b,onScrollCapture:x,onDragStart:I,onKeyDown:S,onKeyUp:_,readOnly:f,googleMapIdOverride:D,googleClickableIcons:k,googleFractionalZoom:O,googleGestureHandling:U="greedy",scrollWheel:V=!1,draggable:K=!0,googleShowTransitLayer:T,googleOnStreetViewVisibilityChanged:Z,googleStreetViewControl:j,googleMapTypeId:E,renderingMethod:P="raster",minZoom:R,maxZoom:G,cacheKey:H,providerPleaseDontUseDirectly:L=(0,s.default)(),onMapInstanceReady:W,_ignoreTestEnvironment:F,children:z,loggingId:A}){const J=(q=L,F||'true'!==process.env?.HAPPO&&!process.env.JEST_WORKER_ID?q:'synthetic');var q;const B=t.Flagger.isTrebuchetLaunched((0,l.default)('map.web_maps_cache_kill_switch')),N=(0,n.useMemo)(()=>({vector:'vector'===P,cacheKey:B?void 0:H,viewport:y,onViewportChange:M,onScrollCapture:x,onMapClick:C,onMapDoubleClick:w,onDragStart:I,onIdle:b,onKeyDown:S,onKeyUp:_,readOnly:f,minZoom:R,maxZoom:G,onMapInstanceReady:W,loggingId:A,children:z}),[B,P,H,y,x,M,C,w,I,b,S,_,f,R,G,W,A,z]),Q=(0,n.useMemo)(()=>({provider:J,viewport:y}),[J,y]);return(0,v.jsx)(h.Provider,{value:Q,children:(0,v.jsx)("div",{style:{width:'100%',height:'100%',position:'relative'},"data-testid":"universal-map-controlled",children:(()=>{switch(J){case'gaode':return(0,v.jsx)(c.GaodeMap,{...N,dragEnable:!f&&K,zoomEnable:!f,doubleClickZoom:!f,scrollWheel:V});case'synthetic':return(0,v.jsx)(u.SyntheticMap,{...N});default:return(0,v.jsx)(p.GoogleMap,{...N,clickableIcons:k,mapStyle:o,mapIdOverride:D,fractionalZoom:O,gestureHandling:U,showTransitLayer:T,onStreetViewVisibilityChanged:Z,streetViewControl:j,scrollwheel:V,draggable:K,mapTypeId:E})}})()})})}e.useUniversalMapContext=()=>(0,n.useContext)(h);e.default=y},"b62618",["ba7a76","07aa1f","dcc72a","2c6bf9","78e1cd","dc0741","333dce","b13724","b8c07d"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProductType=e.MarkerSize=e.LabelPosition=e.ControlPosition=e.CaretSize=e.CaretContainerTypes=void 0;e.ProductType=(function(T){return T.BOOKED_STAY="BOOKED_STAY",T.EXPERIENCE="EXPERIENCE",T.PLACE="PLACE",T.CN_NEARBY_PLACE="CN_NEARBY_PLACE",T.GLOBAL_NEARBY_PLACE="GLOBAL_NEARBY_PLACE",T.GOOGLE_PLACE="GOOGLE_PLACE",T.STAY="STAY",T})({}),e.MarkerSize=(function(T){return T.micro="micro",T.small="small",T.medium="medium",T.large="large",T})({});var T=(function(T){return T.PILL="pill",T.CIRCLE="circle",T})(T||{});e.CaretContainerTypes=(function(T){return T.circle="circle",T.circleGradient="circleGradient",T.circleGradientExact="circleGradientExact",T.mini="mini",T.pill="pill",T.smallCircle="smallCircle",T.tooltip="tooltip",T})({}),e.CaretSize=(function(T){return T[T.small=6]="small",T[T.medium=8]="medium",T[T.large=12]="large",T[T.extraLarge=16]="extraLarge",T})({}),e.LabelPosition=(function(T){return T.Left="Left",T.Right="Right",T.Top="Top",T.Bottom="Bottom",T.TopRight="TopRight",T.TopLeft="TopLeft",T})({}),e.ControlPosition=(function(T){return T[T.BOTTOM_CENTER=0]="BOTTOM_CENTER",T[T.BOTTOM_LEFT=1]="BOTTOM_LEFT",T[T.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",T[T.LEFT_BOTTOM=3]="LEFT_BOTTOM",T[T.LEFT_CENTER=4]="LEFT_CENTER",T[T.LEFT_TOP=5]="LEFT_TOP",T[T.RIGHT_BOTTOM=6]="RIGHT_BOTTOM",T[T.RIGHT_CENTER=7]="RIGHT_CENTER",T[T.RIGHT_TOP=8]="RIGHT_TOP",T[T.TOP_CENTER=9]="TOP_CENTER",T[T.TOP_LEFT=10]="TOP_LEFT",T[T.TOP_RIGHT=11]="TOP_RIGHT",T})({});var t=(function(T){return T.LABEL_ON_HOVER="label_on_hover",T.LABEL_ON_DEFAULT="label_by_default",T.CONTROL="control",T})(t||{})},"cc8984",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useGaodeMapContext=e.default=void 0;var t=r(d[0]);const o=(0,t.createContext)({map:void 0,mapsAPI:void 0});o.displayName='GaodeMapContext';e.default=o;e.useGaodeMapContext=()=>(0,t.useContext)(o)},"d4d397",["07aa1f"]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.GaodeMap=function({viewport:o,minZoom:C,maxZoom:v,onScrollCapture:b,onViewportChange:k,onMapClick:z,onMapDoubleClick:f,onDragStart:M,onIdle:w,onKeyDown:y,onKeyUp:E,dragEnable:R,zoomEnable:S,doubleClickZoom:j,scrollWheel:x,cacheKey:L,children:P,loggingId:A}){const D=(0,n.useRef)(null),I=(0,n.useRef)(null),O=(0,n.useCallback)(o=>{w&&w({viewport:{center:o.center,zoom:o.zoom},bounds:o.bounds,size:o.size,isReady:!0,isViewportAnimating:!1})},[w]),{mapObject:Z,mapsAPI:K,cacheReuseCount:V,isRestoredFromCache:_}=(0,p.useCachedGaodeMapObject)({mapContainerRef:D,componentRootRef:I,mapOptions:{zoom:o?.zoom,center:o?.center,zooms:null!=C&&null!=v?[C,v]:void 0,dragEnable:R,zoomEnable:S,doubleClickZoom:j,scrollWheel:x,resizeEnable:!0},cacheKey:L,onReady:O}),{registerContainerElementAndStartCounter:G,onTilesLoaded:T}=(0,c.useTrackMapPerformanceMetrics)({loggingId:A,provider:'gaode',instanceCacheable:!!L,isCached:_,cacheReuseCount:V,isStatic:!1,isVector:!0}),{width:W,height:F,ref:U}=(0,u.useElementSize)(),q=(0,n.useCallback)(o=>{I.current=o,G(o),U(o)},[I,G,U]),B=(0,n.useMemo)(()=>({map:Z,mapsAPI:K}),[Z,K]);(0,l.useZoomAndCenter)(Z,o?.zoom,o?.center),(0,l.useMapClick)(Z,z),(0,l.useMapDoubleClick)(Z,f),(0,l.useDragStart)(Z,M),(0,l.useScrollCapture)(Z,b),(0,l.useMapTilesLoadedOnce)(Z,_,T),(0,l.useMapComplete)(Z,O);const H=(0,n.useCallback)(o=>{k&&Z&&k({center:o.center,zoom:o.zoom})},[Z,k]);(0,l.useMoveEnd)(Z,H);const J=(0,n.useCallback)(o=>{y&&y(o)},[y]),N=(0,n.useCallback)(o=>{E&&E(o)},[E]);return(0,n.useEffect)(()=>{const o=D.current;return o&&y&&o.addEventListener('keydown',J,!0),o&&E&&o.addEventListener('keyup',N,!0),()=>{o&&y&&o.removeEventListener('keydown',J,!0),o&&E&&o.removeEventListener('keyup',N,!0)}},[D,J,N,y,E]),(0,h.jsxs)("div",{style:{width:'100%',height:'100%',position:'relative'},"data-testid":"gaode-map-controlled","aria-label":"Gaode Map",role:"application",ref:q,children:[(0,h.jsx)("div",{ref:D,style:{width:'100%',height:'100%'}}),Z&&K?(0,h.jsx)(t.default.Provider,{value:B,children:(0,h.jsx)(s.ViewportSizeContextProvider,{viewport:o,size:{width:W||void 0,height:F||void 0},children:P})}):null]})};var n=r(d[1]),t=o(r(d[2])),l=r(d[3]),s=r(d[4]),c=r(d[5]),u=r(d[6]),p=r(d[7]),h=r(d[8])},"dc0741",["ba7a76","07aa1f","d4d397","314a43","40a5ba","380591","c376e0","300f17","b8c07d"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useGoogleMapInstanceCache=function(t){const s=(0,c.useRef)(t);s.current=t;const u=(0,c.useCallback)((c,t)=>{const u=s.current;null!=n[u]?(n[u].instance=c,n[u].element=t,n[u].reuseCount++):n[u]={instance:c,element:t,reuseCount:0}},[]),l=(0,c.useCallback)(c=>{delete n[c]},[]),o=(0,c.useCallback)(()=>{Object.keys(n).forEach(c=>{delete n[c]})},[]);return{cachedInstance:n[t],updateCache:u,clearCache:l,nukeAllMapCaches:o}};var c=r(d[0]);const n={}},"fcc1d9",["07aa1f"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/4df0.9e79884a59.js.map