__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePrepareFromInjectPreloadedQueryPropsParams=function({extractPrepareNiobeOptionsForHlv2TokenMigration:o}){return function({query:t,getQuery:n,getVariables:s,getIsDeferrableQuery:u,getSkip:c,getFetchPolicy:l,getDedupePolicy:p,usePOSTForQuery:P,getContext:y,shouldUsePreviousPrepareProps:f,makeProps:v,maxAge:b,getHeaders:h,getSignal:Q,getEnableAppSessionInstrumentation:S}){return function(k){const{loadQuery:x,previousPrepareProps:F,previousLocation:A,match:I,location:O}=k,_=o(k),T=[{match:I,location:O},..._],j=s?.(...T);if(F&&f){if(f(j,F,A,...T))return F}const q=u?.(...T),D=c?.(...T),H=y?.(...T),M=l?.(...T),C=p?.(...T),E=h?.(...T),L=Q?.(...T),N=S?.(...T),U=x?.({query:n?.({match:I,location:O},..._)??t,...j?{variables:j}:{},...void 0!==D?{skip:D}:{},...void 0!==q?{deferrable:q}:{},...M?{fetchPolicy:M}:{},...C?{dedupePolicy:C}:{},...P?{usePOSTForQuery:P}:{},...H?{context:H}:{},...void 0!==b?{maxAge:b}:{},...E?{headers:E}:{},...Q?{signal:L}:{},...void 0!==N?{enableAppSessionInstrumentation:N}:{}});return v(U,...T)}}}},"1882a3",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),s=t(r(d[3])),l=r(d[4]),u=t(r(d[5])),c=t(r(d[6])),p=r(d[7]);function P(){const t=r(d[8]);return P=function(){return t},t}var f=r(d[9]),_=t(r(d[10])),h=t(r(d[11]));const b=(t,n,o,{location:s,match:l})=>{if(!n)return!1;const{id:u}=l.params;return s.pathname.split(u)[0]===o?.pathname.split(u)[0]},y=(0,P().makePrepareFromInjectPreloadedQueryPropsParams)({extractPrepareNiobeOptionsForHlv2TokenMigration:({customPrepareNiobeData:t,flagger:o})=>[t,o,(0,n().v4)(),(0,f.generateId)()]})({query:u.default,getVariables:({location:t,match:n},l,u,c,P)=>{const{source_impression_id:f}=(0,_.default)(t.search),h=u.isTrebuchetLaunched((0,s.default)('pdp.contextual_user_id.enabled')),b=u.getAirParamField((0,o.default)('hotels/enable_entity_queries')),y=u.getAirParamField((0,o.default)('pdp_stays_title_section_migration/use_entity_view_model')),v=u.getAirParamField((0,o.default)('pdp_stays_title_section_migration/diff_view_models')),k=y||v,I=!y,F=f||l.p3_impression_id||P;return(0,p.getRequestVariables)({location:t,match:n,p3ImpressionId:F,useContextualUser:h,includeHotelFragments:b,includePdpMigrationFragments:k,includeGpTitleFragment:I})},getIsDeferrableQuery:(t,n)=>Boolean(n.launchPdpUncaching),getHeaders:({location:t},n,o,s)=>{const{invite:l}=(0,_.default)(t.search);return{'X-Airbnb-Client-Action-ID':s,...l&&{'X-Airbnb-Principal-Token':l}}},makeProps:(t,{match:n,location:o},s,l,u,c)=>{const{id:p}=n.params,{source_impression_id:P}=(0,_.default)(o.search),f=Boolean(s.launchPdpUncaching),h=P||s.p3_impression_id||c;return{queryRef:t,showDeferredSkeleton:f,isElvisListing:s.iconsSitarCheck===p,p3ImpressionId:h,sessionId:u}},shouldUsePreviousPrepareProps:b,getEnableAppSessionInstrumentation:()=>!0}),v=(0,P().makePrepareFromInjectPreloadedQueryPropsParams)({extractPrepareNiobeOptionsForHlv2TokenMigration:({customPrepareNiobeData:t})=>[t]})({query:h.default,getVariables:({match:t})=>({id:(0,l.createGlobalId)('DemandStayListing',t.params.id),fetchImages:!1}),getSkip:(t,n)=>!n.launchPdpUncaching,makeProps:t=>({skeletonQueryRef:t}),shouldUsePreviousPrepareProps:b}),k=(0,P().makePrepareFromInjectPreloadedQueryPropsParams)({extractPrepareNiobeOptionsForHlv2TokenMigration:()=>[]})({query:c.default,getVariables:({match:t})=>{const{id:n}=t.params;return{id:(0,l.createGlobalId)('DemandStayListing',n??'')}},getSkip:()=>!0,makeProps:t=>({seoStructuredDataQueryRef:t}),shouldUsePreviousPrepareProps:b}),I=(0,P().combinePrepares)(y,v,k);e.default=I},"1d2725",["ba7a76","305dd5","84ad93","2c6bf9","56afe0","7096f2","8405e2","99b905","a9047b","eb5cb3","a7c4ef","27f4f9"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:'PdpEarlyFlushMetadataV2Query',type:'query',operationId:'6d5d03fe66eba083d1eba3f668eef4eab5375087e162f826cd22d5bea6bb75fb'}},"27f4f9",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{amenities:n}=(0,u.default)(t.search);if(null==n||!Array.isArray(n))return null;return n.filter(t=>t).map(t=>Number(t))};var u=t(r(d[1]))},"35872a",["ba7a76","a7c4ef"]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateUgcParam=function(t){return s(t.search)},e.setTranslateUgcParam=function(t){if(!g.window)return;if('function'!=typeof g.window.history.replaceState)return;if('UNDEFINED'===t)return;const s=(0,u.default)(),f='UNTRANSLATED'===t,h=(0,o.default)({...s,translate_ugc:String(f)},n.default),{hash:p,pathname:w,search:_}=window.location,y=(0,l.default)({params:h,pathname:w,search:_})+p;(0,c.getHistory)().replace(y)};var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]),l=t(r(d[4])),o=t(r(d[5]));function s(t){const{translate_ugc:n}=(0,u.default)(t);return n?'true'===n:null}},"5dafcf",["ba7a76","88e3c5","a7c4ef","7934b6","99d1d8","c97d21"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:'StaysPdpSections',type:'query',operationId:'1919b5d89f9f86c321aa3326dffdb985ce4df91c2fafad8d72affc67e0d0e8f0'}},"7096f2",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{display_extensions:u}=(0,n.default)(t.search);if(null==u||!Array.isArray(u))return null;return u.map(t=>'MONTHLY_STAYS'===t.toUpperCase()?'MONTHLY_STAYS':'LR_REDIRECT'===t.toUpperCase()?'LR_REDIRECT':'DATED_LTS'===t.toUpperCase()?'DATED_LTS':null)};var n=t(r(d[1]))},"7692ad",["ba7a76","a7c4ef"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:'StaysPDPSeoStructuredDataQuery',type:'query',operationId:'9f8789c23c55088b213ed0d270c814ee2acf15b4ee1c1ebd2a759aeab6f4205f'}},"8405e2",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,queryParams:o}){const{confirmation_code:s,split_stays_uuid:n}=o;return{splitStaysId:n,stays:[{productId:t,confirmationCode:s}]}}},"874bf3",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return c(t.search)};var u=t(r(d[1]));function c(t){const{pdp_type_override:c,tier_override:n}=(0,u.default)(t);if(n&&'0'===n)return'MARKETPLACE';switch(c){case'HOTEL':case'hotel':return'HOTEL';case'LUXE':case'luxe':return'LUXE';case'MARKETPLACE':case'marketplace':return'MARKETPLACE';default:return}}},"8ceb28",["ba7a76","a7c4ef"]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestVariables=function({forSplitStays:t=!1,location:_,match:I,p3ImpressionId:y,useContextualUser:h,includeHotelFragments:f,includePdpMigrationFragments:S,includeGpTitleFragment:k}){const b=(0,n.createGlobalId)('StayListing',I.params.id),v=(0,n.createGlobalId)('DemandStayListing',I.params.id),P=(0,s.default)(_.search),{adults:F,bypass_targetings:T,cancellation_policy_id:N,category_tag:G,cause_id:M,check_in:U,check_out:w,children:C,disaster_id:O,discountedGuestFeeVersion:x=null,federatedSearchId:B=null,federated_search_id:E=null,force_boost_unc_priority_message_type:L,guests:A,host_preview:D,infants:R,interactionType:V=null,mockId:q,omni_page_id:H,omni_version_id:W,original_check_in:j,original_check_out:z,pets:J,photoId:K=null,photo_id:Q=null,preview:X,priceDropSource:Y,private_booking:Z,promotionUuid:$,rate_plan_id:ee,relaxed_amenity_ids:te,searchId:ne=null,staysBookingMigrationEnabled:ie=null,useNewSectionWrapperApi:le=null}=P,ae={adults:F||A||'1',amenityFilters:(0,u.default)(_),bypassTargetings:'true'===T,categoryTag:G||null,causeId:M||null,children:C||null,disasterId:O||null,discountedGuestFeeVersion:Number(x)||null,displayExtensions:(0,o.default)(_),federatedSearchId:B||E,forceBoostPriorityMessageType:L||null,hostPreview:'true'===D,infants:R||null,interactionType:V,layouts:['SIDEBAR','SINGLE_COLUMN'],omniPageId:H,omniVersionId:W,pets:Number(J)||0,pdpTypeOverride:(0,c.default)(_)||null,photoId:K||Q,preview:'true'===X,previousStateCheckIn:j||null,previousStateCheckOut:z||null,priceDropSource:Y||null,privateBooking:'true'===Z,promotionUuid:$||null,relaxedAmenityIds:te||null,searchId:ne,selectedCancellationPolicyId:Number(N)||null,selectedRatePlanId:Number(ee)||null,splitStays:t?(0,p.default)({id:b,queryParams:P}):null,staysBookingMigrationEnabled:'true'===ie,translateUgc:(0,l.getTranslateUgcParam)(_),useNewSectionWrapperApi:'true'===le,sectionIds:null,checkIn:null,checkOut:null,p3ImpressionId:y};U&&w&&(ae.checkIn=U,ae.checkOut=w);return{id:b,demandStayListingId:v,pdpSectionsRequest:ae,useContextualUser:!!h,includeHotelFragments:!!f,includePdpMigrationFragments:!!S,includeGpTitleFragment:k??!0,...q&&{mockIdentifier:q}}};var n=r(d[1]),l=r(d[2]),s=t(r(d[3])),u=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),p=t(r(d[7]))},"99b905",["ba7a76","56afe0","5dafcf","a7c4ef","35872a","7692ad","8ceb28","874bf3"]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}function t(){const n=r(d[1]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"combinePrepares",{enumerable:!0,get:function(){return n().combinePrepares}}),Object.defineProperty(e,"makePrepareFromInjectPreloadedQueryPropsParams",{enumerable:!0,get:function(){return t().makePrepareFromInjectPreloadedQueryPropsParams}})},"a9047b",["f7bc39","1882a3"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return Object.entries(t).reduce((t,[n,c])=>(u(c,n)&&(t[n]=c),t),{})}},"c97d21",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setImpressionId=e.resetImpressionId=e.generateId=e.default=void 0;var s=r(d[0]);let t;const n=()=>`p3_${(0,s.computeBev)('P3')}`;e.generateId=n;const o=()=>{t=n()};e.resetImpressionId=o;e.setImpressionId=s=>{t=s},o();e.default=()=>t},"eb5cb3",["b4aab0"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combinePrepares=function(...n){return t=>n.reduce((n,u)=>({...n,...u(t)}),{})}},"f7bc39",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-pdp-route/routes/PdpPlatformRoute.prepare.fdabd9d272.js.map